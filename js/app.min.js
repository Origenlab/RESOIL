document.addEventListener('DOMContentLoaded',function(){const mobileMenuBtn=document.getElementById('mobile-menu-btn');const navList=document.getElementById('nav-list');if (mobileMenuBtn && navList){mobileMenuBtn.addEventListener('click',function(e){e.stopPropagation();mobileMenuBtn.classList.toggle('active');navList.classList.toggle('active');});}const serviciosDropdown=document.querySelector('.has-dropdown');if (serviciosDropdown){const serviciosLink=serviciosDropdown.querySelector('.nav-link');const dropdownContent=serviciosDropdown.querySelector('.dropdown-content');if (serviciosLink && dropdownContent){serviciosLink.addEventListener('click',function(e){if (window.innerWidth <=768){e.preventDefault();e.stopPropagation();serviciosDropdown.classList.toggle('active');}});}}const iluminacionSubmenu=document.querySelector('.has-submenu');if (iluminacionSubmenu){const iluminacionLink=iluminacionSubmenu.querySelector('.submenu-toggle');const submenuContent=iluminacionSubmenu.querySelector('.submenu-content');if (iluminacionLink && submenuContent){iluminacionLink.addEventListener('click',function(e){if (window.innerWidth <=768){e.preventDefault();e.stopPropagation();iluminacionSubmenu.classList.toggle('active');}});}}function closeMenu(){if (mobileMenuBtn && navList){mobileMenuBtn.classList.remove('active');navList.classList.remove('active');document.querySelectorAll('.has-dropdown').forEach(item=>{item.classList.remove('active');});document.querySelectorAll('.has-submenu').forEach(item=>{item.classList.remove('active');});}}document.querySelectorAll('.submenu-link,.nav-item:not(.has-dropdown) .nav-link,.dropdown-link:not(.submenu-toggle)').forEach(link=>{link.addEventListener('click',function(){if (window.innerWidth <=768){closeMenu();}});});document.addEventListener('click',function(event){if (window.innerWidth <=768 && !event.target.closest('.main-nav') && navList && navList.classList.contains('active')){closeMenu();}});window.addEventListener('resize',function(){if (window.innerWidth > 768){closeMenu();}});function setActiveNavLink(){const sections=document.querySelectorAll('section[id]');const navLinks=document.querySelectorAll('.nav-link');let current='';sections.forEach(section=>{const sectionTop=section.offsetTop;const sectionHeight=section.clientHeight;if (window.pageYOffset >=sectionTop - 200){current=section.getAttribute('id');}});navLinks.forEach(link=>{link.classList.remove('active');if (link.getAttribute('href')===`#${current}`){link.classList.add('active');}});}window.addEventListener('scroll',setActiveNavLink);function handleHeaderScroll(){const header=document.querySelector('.header');if (window.scrollY > 50){header.style.background='rgba(255,255,255,0.95)';header.style.backdropFilter='blur(10px)';}else{header.style.background='#ffffff';header.style.backdropFilter='none';}}window.addEventListener('scroll',handleHeaderScroll);const observerOptions={threshold: 0.1,rootMargin: '0px 0px -50px 0px'};const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if (entry.isIntersecting){entry.target.style.opacity='1';entry.target.style.transform='translateY(0)';}});},observerOptions);document.querySelectorAll('.service-card,.hero-section h1,.hero-section p').forEach(el=>{el.style.opacity='0';el.style.transform='translateY(30px)';el.style.transition='opacity 0.6s ease,transform 0.6s ease';observer.observe(el);});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function (e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if (target){const headerHeight=120;const targetPosition=target.offsetTop - headerHeight;window.scrollTo({top: targetPosition,behavior: 'smooth'});}});});function toggleElement(element,show=null){if (show===null){element.style.display=element.style.display==='none' ? 'block' : 'none';}else{element.style.display=show ? 'block' : 'none';}}function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};}const debouncedScroll=debounce(()=>{setActiveNavLink();handleHeaderScroll();},10);window.addEventListener('scroll',debouncedScroll);const contactForm=document.getElementById('contactForm');if (contactForm){contactForm.addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(contactForm);const nombre=formData.get('nombre');const telefono=formData.get('telefono');const email=formData.get('email');const fecha=formData.get('fecha');const tipoEvento=formData.get('tipoEvento');const invitados=formData.get('invitados');const mensaje=formData.get('mensaje');const serviciosSeleccionados=[];formData.getAll('servicios[]').forEach(servicio=>{serviciosSeleccionados.push(servicio);});let whatsappMessage=`*NUEVA CONSULTA - RENTA DE SONIDO E ILUMINACION*\n\n`;whatsappMessage +=`*Cliente:* ${nombre}\n`;whatsappMessage +=`*TelÃ©fono:* ${telefono}\n`;whatsappMessage +=`*Email:* ${email}\n\n`;if (fecha){whatsappMessage +=`*Fecha del Evento:* ${fecha}\n`;}if (tipoEvento){whatsappMessage +=`*Tipo de Evento:* ${tipoEvento}\n`;}if (invitados){whatsappMessage +=`*NÃºmero de Invitados:* ${invitados}\n`;}if (serviciosSeleccionados.length > 0){whatsappMessage +=`*Servicios de InterÃ©s:*\n`;serviciosSeleccionados.forEach(servicio=>{whatsappMessage +=` â€¢ ${servicio}\n`;});}if (mensaje){whatsappMessage +=`\n*Detalles del Evento:*\n${mensaje}\n`;}whatsappMessage +=`\n*Enviado desde: www.rentadesonidoeiluminacion.com*`;const whatsappNumber='525578960091';const encodedMessage=encodeURIComponent(whatsappMessage);const whatsappURL=`https: window.open(whatsappURL,'_blank');showFormSuccessMessage();});}const quoteForm=document.getElementById('quote-form');if (quoteForm){quoteForm.addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(quoteForm);const eventName=formData.get('event-name');const eventDate=formData.get('event-date');const eventType=formData.get('event-type');const guests=formData.get('guests');const venue=formData.get('venue');const spaceSize=formData.get('space-size');const specialRequirements=formData.get('special-requirements');const contactName=formData.get('contact-name');const contactPhone=formData.get('contact-phone');let whatsappMessage=`*COTIZACIÃ“N - RENTA DE GUIRNALDAS DE LUCES VINTAGE*\n\n`;whatsappMessage +=`*INFORMACIÃ“N DEL EVENTO*\n`;whatsappMessage +=`*Nombre del Evento:* ${eventName}\n`;whatsappMessage +=`*Fecha:* ${eventDate}\n`;whatsappMessage +=`*Tipo de Evento:* ${eventType}\n`;if (guests){whatsappMessage +=`*NÃºmero de Invitados:* ${guests}\n`;}whatsappMessage +=`*Venue:* ${venue}\n`;whatsappMessage +=`*TamaÃ±o del Espacio:* ${spaceSize}\n\n`;whatsappMessage +=`*INFORMACIÃ“N DE CONTACTO*\n`;whatsappMessage +=`*Nombre:* ${contactName}\n`;whatsappMessage +=`*TelÃ©fono:* ${contactPhone}\n\n`;if (specialRequirements){whatsappMessage +=`*REQUERIMIENTOS ESPECIALES*\n${specialRequirements}\n\n`;}whatsappMessage +=`*SOLICITUD:* CotizaciÃ³n para renta de guirnaldas de luces vintage\n`;whatsappMessage +=`*PRIORIDAD:* Respuesta en menos de 30 minutos\n`;whatsappMessage +=`*Enviado desde:* www.rentadesonidoeiluminacion.com/guirnaldas.html`;const whatsappNumber='525578960091';const encodedMessage=encodeURIComponent(whatsappMessage);const whatsappURL=`https: window.open(whatsappURL,'_blank');showQuoteFormSuccessMessage();});}function showQuoteFormSuccessMessage(){const submitBtn=quoteForm.querySelector('button[type="submit"]');const originalText=submitBtn.innerHTML;submitBtn.innerHTML='Â¡Enviado! Abriendo WhatsApp...';submitBtn.style.background='#4CAF50';submitBtn.disabled=true;setTimeout(()=>{submitBtn.innerHTML=originalText;submitBtn.style.background='linear-gradient(135deg,#25D366 0%,#128C7E 100%)';submitBtn.disabled=false;},4000);}const neonQuoteForm=document.getElementById('neon-quote-form');if (neonQuoteForm){neonQuoteForm.addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(neonQuoteForm);const projectName=formData.get('project-name');const eventDate=formData.get('event-date');const projectType=formData.get('project-type');const estimatedLength=formData.get('estimated-length');const venueLocation=formData.get('venue-location');const installationType=formData.get('installation-type');const designRequirements=formData.get('design-requirements');const contactName=formData.get('contact-name');const contactPhone=formData.get('contact-phone');let whatsappMessage=`*COTIZACIÃ“N TÃ‰CNICA - RENTA DE LED NEÃ“N FLEXIBLE*\n\n`;whatsappMessage +=`*INFORMACIÃ“N DEL PROYECTO*\n`;whatsappMessage +=`*Nombre del Proyecto:* ${projectName}\n`;whatsappMessage +=`*Fecha:* ${eventDate}\n`;whatsappMessage +=`*Tipo de AplicaciÃ³n:* ${projectType}\n`;if (estimatedLength){whatsappMessage +=`*Longitud Estimada:* ${estimatedLength}\n`;}whatsappMessage +=`*Venue:* ${venueLocation}\n`;whatsappMessage +=`*Tipo de InstalaciÃ³n:* ${installationType}\n\n`;whatsappMessage +=`*INFORMACIÃ“N DE CONTACTO*\n`;whatsappMessage +=`*Nombre:* ${contactName}\n`;whatsappMessage +=`*TelÃ©fono:* ${contactPhone}\n\n`;if (designRequirements){whatsappMessage +=`*REQUERIMIENTOS DE DISEÃ‘O*\n${designRequirements}\n\n`;}whatsappMessage +=`*TECNOLOGÃA:* LED NeÃ³n Flexible RGB+W Profesional\n`;whatsappMessage +=`*PRIORIDAD:* Respuesta tÃ©cnica en menos de 2 horas\n`;whatsappMessage +=`*Enviado desde:* www.rentadesonidoeiluminacion.com/luz-neon-led.html`;const whatsappNumber='525578960091';const encodedMessage=encodeURIComponent(whatsappMessage);const whatsappURL=`https: window.open(whatsappURL,'_blank');showNeonFormSuccessMessage();});}function showNeonFormSuccessMessage(){const submitBtn=neonQuoteForm.querySelector('button[type="submit"]');const originalText=submitBtn.innerHTML;submitBtn.innerHTML='Enviando Datos TÃ©cnicos...';submitBtn.style.background='#4CAF50';submitBtn.disabled=true;setTimeout(()=>{submitBtn.innerHTML=originalText;submitBtn.style.background='linear-gradient(135deg,#25D366 0%,#128C7E 100%)';submitBtn.disabled=false;},4000);}const cityColorQuoteForm=document.getElementById('citycolor-quote-form');if (cityColorQuoteForm){cityColorQuoteForm.addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(this);const eventName=formData.get('event-name');const eventDate=formData.get('event-date');const eventScale=formData.get('event-scale');const coverageArea=formData.get('coverage-area');const venueType=formData.get('venue-type');const technicalRequirements=formData.get('technical-requirements');const productionDetails=formData.get('production-details') || 'Sin detalles adicionales de producciÃ³n';const contactName=formData.get('contact-name');const contactPhone=formData.get('contact-phone');const message=`ðŸŽ¨ *SOLICITUD CITY COLOR RGB - EVENTO MASIVO* ðŸŽ¨\n\n` + `*ðŸ“Š DETALLES DEL EVENTO:*\n` + `â€¢ Evento: ${eventName}\n` + `â€¢ Fecha: ${eventDate}\n` + `â€¢ Escala: ${eventScale}\n` + `â€¢ Ãrea de Cobertura: ${coverageArea}\n` + `â€¢ Venue: ${venueType}\n\n` + `*âš¡ REQUERIMIENTOS TÃ‰CNICOS:*\n` + `â€¢ Nivel: ${technicalRequirements}\n\n` + `*ðŸŽ¬ DETALLES DE PRODUCCIÃ“N:*\n` + `${productionDetails}\n\n` + `*ðŸ‘¤ CONTACTO PRODUCTOR:*\n` + `â€¢ Nombre: ${contactName}\n` + `â€¢ TelÃ©fono: ${contactPhone}\n\n` + `*Solicito propuesta tÃ©cnica especializada para sistema City Color RGB masivo. Favor de incluir especificaciones de universos DMX y capacidad de fixtures.*`;const encodedMessage=encodeURIComponent(message);const whatsappURL=`https: window.open(whatsappURL,'_blank');showCityColorFormSuccessMessage();});}const lucesNeonQuoteForm=document.getElementById('luces-neon-quote-form');if (lucesNeonQuoteForm){lucesNeonQuoteForm.addEventListener('submit',function(e){e.preventDefault();const formData=new FormData(this);const eventType=formData.get('event-type');const guestCount=formData.get('guest-count');const venueType=formData.get('venue-type');const lightingEffect=formData.get('lighting-effect');const eventDate=formData.get('event-date');const musicSync=formData.get('music-sync');const additionalInfo=formData.get('additional-info') || 'Sin informaciÃ³n adicional';const contactName=formData.get('contact-name');const contactPhone=formData.get('contact-phone');const message=`ðŸŽ¨ *SOLICITUD LUCES NEÃ“N LED RGBW* ðŸŽ¨\n\n` + `*ðŸ“Š DETALLES DEL EVENTO:*\n` + `â€¢ Tipo: ${eventType}\n` + `â€¢ Invitados: ${guestCount}\n` + `â€¢ Venue: ${venueType}\n` + `â€¢ Fecha: ${eventDate}\n\n` + `*ðŸ’¡ REQUERIMIENTOS DE ILUMINACIÃ“N:*\n` + `â€¢ Efecto: ${lightingEffect}\n` + `â€¢ SincronizaciÃ³n Musical: ${musicSync}\n\n` + `*ðŸ“ INFORMACIÃ“N ADICIONAL:*\n` + `${additionalInfo}\n\n` + `*ðŸ‘¤ CONTACTO:*\n` + `â€¢ Nombre: ${contactName}\n` + `â€¢ TelÃ©fono: ${contactPhone}\n\n` + `*Solicito cotizaciÃ³n para luces neÃ³n LED RGBW profesionales. Favor incluir recomendaciÃ³n de paquete y configuraciÃ³n de trÃ­podes.*`;const encodedMessage=encodeURIComponent(message);const whatsappURL=`https: window.open(whatsappURL,'_blank');showLucesNeonFormSuccessMessage();});}function showLucesNeonFormSuccessMessage(){const submitBtn=lucesNeonQuoteForm.querySelector('button[type="submit"]');const originalText=submitBtn.innerHTML;submitBtn.innerHTML='Enviando Solicitud Luces NeÃ³n...';submitBtn.style.background='#4CAF50';submitBtn.disabled=true;setTimeout(()=>{submitBtn.innerHTML=originalText;submitBtn.style.background='linear-gradient(135deg,#25D366 0%,#128C7E 100%)';submitBtn.disabled=false;},4000);}function showFormSuccessMessage(){const submitBtn=document.querySelector('.submit-btn');const originalText=submitBtn.innerHTML;submitBtn.innerHTML='<span>Â¡Enviado! Abriendo WhatsApp...</span>';submitBtn.style.background='#4CAF50';setTimeout(()=>{submitBtn.innerHTML=originalText;submitBtn.style.background='linear-gradient(135deg,#25D366 0%,#128C7E 100%)';},3000);}function initFAQ(){const faqItems=document.querySelectorAll('.faq-item');faqItems.forEach(item=>{const question=item.querySelector('.faq-question');const answer=item.querySelector('.faq-answer');if (question && answer){question.addEventListener('click',function(){const isActive=item.classList.contains('active');faqItems.forEach(otherItem=>{if (otherItem !==item){otherItem.classList.remove('active');}});if (isActive){item.classList.remove('active');}else{item.classList.add('active');setTimeout(()=>{const rect=item.getBoundingClientRect();const offset=rect.top + window.pageYOffset - 100;window.scrollTo({top: offset,behavior: 'smooth'});},200);}});}});}setActiveNavLink();handleHeaderScroll();initFAQ();console.log('RESOIL - Sitio web cargado correctamente');});